{
  "updatedAt": "2026-02-12T20:01:59.000Z",
  "createdAt": "2026-02-12T17:24:51.370Z",
  "id": "iIXYpc-DG2kINcHbPYY2n",
  "name": "My workflow",
  "description": null,
  "active": false,
  "isArchived": true,
  "nodes": [
    {
      "parameters": {},
      "id": "cad1be1b-e73d-457c-a2ee-d33a1ed0d4b8",
      "name": "AI Agent",
      "type": "n8n-nodes-base.noOp",
      "maxTries": 5,
      "position": [
        1040,
        592
      ],
      "retryOnFail": false,
      "typeVersion": 1.7,
      "alwaysOutputData": true,
      "waitBetweenTries": null,
      "notes": "This agent node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {},
      "id": "c4403f0d-2344-4a89-9d05-82f4ff546e38",
      "name": "list_links",
      "type": "n8n-nodes-base.noOp",
      "position": [
        1184,
        880
      ],
      "typeVersion": 1.1,
      "notes": "This toolHttpRequest node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {},
      "id": "e54bdd9b-08ab-4533-921a-d7b19effff1b",
      "name": "OpenAI Chat Model",
      "type": "n8n-nodes-base.noOp",
      "position": [
        960,
        800
      ],
      "typeVersion": 1.2,
      "credentials": {},
      "notes": "This lmChatOpenAi node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {
        "updates": [
          "messages"
        ],
        "options": {}
      },
      "id": "368be95d-005a-404d-85de-9315b8cb0d74",
      "name": "WhatsApp Trigger",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "position": [
        672,
        592
      ],
      "webhookId": "857366e8-7b6f-45a7-bbd1-f876002620d7",
      "typeVersion": 1,
      "notes": "This whatsAppTrigger node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {
        "jsCode": "// cleanAnswer – run once per item\nlet txt = $('AI Agent').first().json.output || '';\n\n// 1. Remove bold / italic / strike markers\ntxt = txt.replace(/[*_~]+/g, '');\n\n// 2. Convert [Texto]({{ $env.WEBHOOK_URL }} → Texto {{ $env.WEBHOOK_URL }}\ntxt = txt.replace(/\\[([^\\]]+)\\]\\((https?:\\/\\/[^\\s)]+)\\)/g, '$1 $2');\n\n// 3. Collapse 3+ blank lines\ntxt = txt.replace(/\\n{3,}/g, '\\n\\n').trim();\n\nreturn [{ json: { answer: txt } }];\n"
      },
      "id": "64819e34-f2e1-4d05-a7c6-f9e105f5f7a7",
      "name": "cleanAnswer",
      "type": "n8n-nodes-base.code",
      "position": [
        1968,
        576
      ],
      "typeVersion": 2,
      "notes": "This code node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {},
      "id": "e1eccf88-c524-4bb0-b9ad-ae49520e5b88",
      "name": "get_page",
      "type": "n8n-nodes-base.noOp",
      "position": [
        1344,
        880
      ],
      "typeVersion": 1.1,
      "notes": "This toolHttpRequest node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {
        "jsCode": "// within24h?  – run once per item\n// Meta (WhatsApp) timestamp arrives as seconds since epoch\nconst lastTs = Number($('WhatsApp Trigger').first().json.messages[0].timestamp) * 1000;   // → ms\nconst withinWindow = Date.now() - lastTs < 24 * 60 * 60 * 1000;\n\nreturn [{ json: { withinWindow, answer: $json.answer, userId: $json.userId } }];"
      },
      "id": "a3b1f24a-8e8f-44c5-b44b-2074d66a625c",
      "name": "24-hour window check",
      "type": "n8n-nodes-base.code",
      "position": [
        1440,
        592
      ],
      "typeVersion": 2,
      "notes": "This code node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "d33e218e-a49a-49ed-9c6b-55b9ea0b0dbb",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ $json.withinWindow }}",
              "rightValue": ""
            }
          ]
        },
        "options": {}
      },
      "id": "39330824-79bd-4dc5-8a19-efbaa33b4f00",
      "name": "If Node",
      "type": "n8n-nodes-base.if",
      "position": [
        1664,
        592
      ],
      "typeVersion": 2.2,
      "notes": "This if node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {
        "phoneNumberId": "679436108574898",
        "recipientPhoneNumber": "={{ $('WhatsApp Trigger').item.json.contacts[0].wa_id }}",
        "template": "hello_world|en_US"
      },
      "id": "005489ae-48c6-455a-99b1-ad562585710d",
      "name": "Send Pre-approved Template Message to Reopen the Conversation",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        1984,
        816
      ],
      "typeVersion": 1,
      "webhookId": "509ff986-e019-47a2-86fd-7205a9682d00",
      "notes": "This whatsApp node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {
        "operation": "send",
        "phoneNumberId": "679436108574898",
        "recipientPhoneNumber": "={{ $('WhatsApp Trigger').item.json.contacts[0].wa_id }}",
        "textBody": "={{ $json.answer }}",
        "additionalFields": {}
      },
      "id": "f32b2f3f-1172-42e0-98de-788d2e082349",
      "name": "Send AI Agent's Answer",
      "type": "n8n-nodes-base.whatsApp",
      "position": [
        2192,
        576
      ],
      "typeVersion": 1,
      "webhookId": "496f9d83-7180-4d36-ab0a-9269e69b5420",
      "notes": "This whatsApp node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {},
      "id": "01309923-2bb8-4c45-b9d8-035dcaa8812c",
      "name": "Postgres Users Memory",
      "type": "n8n-nodes-base.noOp",
      "position": [
        1040,
        960
      ],
      "typeVersion": 1.3,
      "credentials": {},
      "notes": "This memoryPostgresChat node performs automated tasks as part of the workflow."
    },
    {
      "parameters": {
        "content": "# Step by Step Setup Guide\n\n### **The technology that powers this AI Agent—continuously crawling, extracting, and generating answers—incurs real operating costs to stay online.**\n### **That’s why the workflow requires an active membership, priced at only **\\$29 per month**. Comparable AI-support platforms charge **\\$150 – \\$500 each month**, so with this template you either save a large chunk of that expense for your own business or earn the same amount by reselling the chatbot to clients—while paying just \\$29 yourself. *And because the bot pulls fresh information from the site in real time, you never have to “re-train” a model, saving you even more time and money.***\n\n **Activate your membership here:** [{{ $env.WEBHOOK_URL }}]({{ $env.WEBHOOK_URL }}\n\n### Let's start setting this up step by step:\n*Total hands-on time: ≈ 15 minutes*\n\n1. Activate the tools with the membership generated key: \n- Go to the membership link to get your key.\n- Copy the key (e.g 6F0E4C97-B72A4E69-A11BF6C4-AF123456) and paste it in the body parameters of list_links and get_page (tools):\n*Name: auth-token*\n*Value:  6F0E4C97-B72A4E69-A11BF6C4-AF123456* **(example)**\n\n2. Customize for Your Company:\n- Copy the Root URL of your company's website (Home Page).\n- Open the AI Agent node and inside the `System Message`, change the following values:\n[Company Name] with your company name (e.g [Company Name] -> Facebook)\n[{{ $env.WEBHOOK_URL }}] with your company Root URL that you copied before.\nCheck for these 2 values along the entire text.\n- Go back to the tools list_links and get_page and paste the Root URL inside the body parameters, specifically:\n*Name: url*\n*Value: {{ $env.WEBHOOK_URL }} **(e.g {{ $env.WEBHOOK_URL }}\n\n3. Connect your credentials:\n- Go to the OpenAI Chat Model node and connect your OpenAI credentials.\n- Go to the Postgres Users Memory node and connect your Supabase credentials. A tutorial for this: {{ $env.WEBHOOK_URL }} (Minute 1:45 to 5:00)\n- Go to the WhatsApp nodes \"WhatsApp Trigger\", \"Send Pre-approved Template Message to Reopen the Conversation\" and \"Send AI Agent's Answer\" to connect your credentials. A tutorial for this: {{ $env.WEBHOOK_URL }}\n- Go to the \"Send Pre-approved Template Message to Reopen the Conversation\" and select the template message under the \"Template\" parameter.\n***If you don't want to use this feature (not recommended) delete the nodes \"24-hour window check\", \"If\" and \"Send Pre-approved Template Message to Reopen the Conversation\". Then connect the AI Agent node to the \"cleanAnswer\" node.***\n\n\n### **You are ready**",
        "height": 1460,
        "width": 460
      },
      "id": "5f14ff04-dee4-4b19-9e1e-835255e846a0",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0,
        128
      ],
      "typeVersion": 1,
      "notes": "This stickyNote node performs automated tasks as part of the workflow."
    }
  ],
  "connections": {},
  "settings": {
    "executionOrder": "v1",
    "binaryMode": "separate",
    "availableInMCP": false
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "08c2654f-b832-4a36-919d-a8e9d2851375",
  "activeVersionId": null,
  "versionCounter": 4,
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2026-02-12T17:24:51.372Z",
      "createdAt": "2026-02-12T17:24:51.372Z",
      "role": "workflow:owner",
      "workflowId": "iIXYpc-DG2kINcHbPYY2n",
      "projectId": "b0sQUnf84o4TmJLM",
      "project": {
        "updatedAt": "2026-02-04T13:15:52.270Z",
        "createdAt": "2026-02-04T13:11:39.488Z",
        "id": "b0sQUnf84o4TmJLM",
        "name": "felipe alzate <info@easy-locker.com>",
        "type": "personal",
        "icon": null,
        "description": null,
        "creatorId": "bf6a5d6b-4e7f-482c-9a61-b677e9868d14",
        "projectRelations": [
          {
            "updatedAt": "2026-02-04T13:11:39.488Z",
            "createdAt": "2026-02-04T13:11:39.488Z",
            "userId": "bf6a5d6b-4e7f-482c-9a61-b677e9868d14",
            "projectId": "b0sQUnf84o4TmJLM",
            "user": {
              "updatedAt": "2026-02-21T10:58:29.000Z",
              "createdAt": "2026-02-04T13:11:39.387Z",
              "id": "bf6a5d6b-4e7f-482c-9a61-b677e9868d14",
              "email": "info@easy-locker.com",
              "firstName": "felipe",
              "lastName": "alzate",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2026-02-04T13:18:35.041Z",
                "personalization_survey_n8n_version": "1.64.3",
                "automationGoalDevops": [
                  "other"
                ],
                "automationGoalDevopsOther": "human flow",
                "companyIndustryExtended": [
                  "msp",
                  "physical-retail-or-services"
                ],
                "companySize": "<20",
                "companyType": "other",
                "role": "engineering",
                "reportedSource": "other",
                "reportedSourceOther": "upwork"
              },
              "settings": {
                "userActivated": true,
                "firstSuccessfulWorkflowId": "RR0pRP_Qe8fqoG9P2wI_J",
                "userActivatedAt": 1770904203459
              },
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2026-02-21",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": [],
  "activeVersion": null
}
